---
import { t } from '../../utils/i18n'
import { getPayloadUrl } from '../../utils/payload'

const { block, lang } = Astro.props
---

<div class="relative w-full">
  <div 
    class="absolute inset-0 z-0 bg-cover bg-center" 
    style={`background-image: url('${getPayloadUrl(typeof block.background_image === 'string' ? block.background_image : block.background_image?.url)}')`}
  >
    <div class="absolute inset-0 bg-gradient-to-r from-neutral-900/95 via-neutral-900/80 to-primary/20"></div>
  </div>
  <div class="relative z-10 mx-auto max-w-[1200px] px-4 py-32 sm:px-6 lg:px-8 lg:py-48">
    <div class="flex flex-col items-start text-start max-w-3xl">
      {block.badge && (
      <div class="mb-8 inline-flex items-center rounded-full border border-white/20 bg-primary/90 px-4 py-1.5 text-sm font-bold text-white backdrop-blur-md shadow-lg">
        <span class="mr-2 h-2.5 w-2.5 rounded-full bg-white animate-pulse"></span>
        {block.badge}
      </div>
      )}
      <h1 class="mb-8 text-5xl font-black leading-none tracking-tight text-white sm:text-7xl lg:text-8xl whitespace-pre-line">
        {block.title}
      </h1>
      <p class="mb-12 max-w-2xl text-xl font-medium text-gray-200 sm:text-2xl leading-relaxed text-justify w-full" style="text-align: justify; text-justify: inter-word; text-align-last: start;">
        {block.description}
      </p>
      <div class="flex flex-wrap gap-4">
        {block.buttons?.map((button: any) => (
          <a 
            href={button.link || '#'} 
            class={`rounded-lg px-8 py-4 text-base font-black transition-all shadow-lg hover:shadow-xl uppercase tracking-wide inline-block ${button.style === 'primary' ? 'bg-primary text-white hover:bg-primary-dark' : 'bg-white/10 border border-white/30 text-white hover:bg-white/20 backdrop-blur-sm'}`}
          >
            {button.label}
          </a>
        ))}
      </div>
    </div>
  </div>
</div>
