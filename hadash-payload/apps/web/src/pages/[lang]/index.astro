---
import { getPayloadPage } from '../../utils/payload'
import BlockRenderer from '../../components/payload/BlockRenderer.astro'
import BaseLayout from '../../layouts/BaseLayout.astro'

export async function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'he' } },
    { params: { lang: 'ru' } },
  ];
}

const { lang } = Astro.params;
const page = await getPayloadPage('index', lang)
---

<BaseLayout lang={lang}>
  <BlockRenderer content={page?.layout} lang={lang} />
</BaseLayout>
