---
import { storyblokEditable } from '@storyblok/astro'

const { blok } = Astro.props
---

<section {...storyblokEditable(blok)} class="sticky top-0 h-screen w-full flex items-center overflow-hidden z-20 border-t border-white/10 shadow-[0_-20px_60px_rgba(0,0,0,0.7)] bg-neutral-dark">
  <div class="absolute inset-0 w-full h-full bg-cover bg-center transition-transform duration-1000 hover:scale-105" style={`background-image: url("${blok.image?.filename || 'https://lh3.googleusercontent.com/aida-public/AB6AXuDKD9A-2UD-1sScnP64H7aBDBo5xeX4MRvYna2YWkRtOJpo4ZptVOBaXJTx1z7Oek3d4TcJvfjOcfwiXXZ0eNO7WzjJY6rl_GS0_zNdSFMlOP9XYF7T33dhpCoYuLdI3aDE9qIc2PBkoKvp00o43PnRr8BgrcGgZgOkxW_m7-Q5kD6X-kA6HUCWlI655iDSVGs8p52VcBC4JMOe4i3cgIiq30kB0MOkcgWTaLTXGHYeXjqh4gOne2Nc_eW0nruxM8CshBRsWoRZ4LjK'}");`}>
    <div class="absolute inset-0 bg-gradient-to-r from-neutral-black/95 via-neutral-black/80 to-neutral-black/40"></div>
  </div>
  <div class="relative w-full max-w-7xl mx-auto px-4 md:px-10 lg:px-20 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center h-full">
    <div class="bg-neutral-black/80 backdrop-blur-md border border-white/10 p-8 md:p-12 rounded-card shadow-2xl transform transition-all duration-500 hover:translate-y-[-5px]">
      <div class="flex items-center gap-4 mb-8">
        <div class="size-12 rounded-full bg-primary text-white flex items-center justify-center shadow-lg shadow-primary/30">
          <span class="material-symbols-outlined text-2xl">{blok.icon || 'flag'}</span>
        </div>
        <span class="text-primary font-black tracking-widest uppercase text-xs border border-primary/30 px-3 py-1 rounded-full bg-primary/10">
          {blok.mission_tag || 'Mission 01'}
        </span>
      </div>
      <h2 class="text-4xl md:text-5xl font-black text-white mb-6 uppercase tracking-tight leading-none whitespace-pre-line">
        {blok.title || 'Mission Title'}
      </h2>
      <p class="text-gray-300 text-lg leading-relaxed mb-10 pl-6 border-l-4 border-primary font-medium">
        "{blok.quote || 'Important quote regarding this mission.'}"
      </p>
      <div class="space-y-5 mb-10">
        {blok.points?.map((point: any) => (
          <div class="flex items-start gap-4 group/item">
            <div class="mt-1 p-1 rounded-full bg-white/10 group-hover/item:bg-primary/20 transition-colors">
              <span class="material-symbols-outlined text-primary text-lg block">check</span>
            </div>
            <p class="text-gray-200 text-base font-normal">{point.text}</p>
          </div>
        ))}
      </div>
      <a class="inline-flex items-center gap-3 text-white bg-white/10 hover:bg-primary hover:border-primary border border-white/20 px-6 py-3 rounded-lg transition-all duration-300 text-sm font-bold uppercase tracking-wider group" href={blok.link?.cached_url || '#'}>
        <span>{blok.link_label || 'Read More'}</span>
        <span class="material-symbols-outlined text-lg group-hover:translate-x-1 transition-transform rtl:group-hover:-translate-x-1">arrow_forward</span>
      </a>
    </div>
    <div class="hidden lg:block"></div>
  </div>
</section>
<style>
  .rounded-card {
    border-radius: 1.5rem;
  }
</style>
